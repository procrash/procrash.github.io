<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#4CAF50">
  <title>Wildkamera SMS-Steuerung</title>

  <!-- Materialize CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <!-- Google Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!-- PWA Manifest & Icons -->
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="/icons/icon-192x192.png">

  <!-- Custom Styles -->
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="styles-extensions.css">
  <style>
    /* Banner-Anpassungen ersetzt: Wald-Silhouette als Hintergrund */
    header {
      height: 120px;
      background: url('icons/forest-silhouette.png') center/cover no-repeat;
    }
    /* Optional Farb-Overlay für besseren Kontrast */
    header::after {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.4);
    }
    /* Logo in der Mitte */
    .brand-logo img.banner-logo {
      width: 100%;
      height: auto;
      display: block;
      margin: 0 auto;
      position: relative;
      z-index: 1;
    }
    .navbar-fixed .nav-wrapper {
      background: transparent;
      box-shadow: none;
      position: relative;
    }
  </style>
</head>
<body>
  <!-- Banner-Header -->
  <header>
    <div class="navbar-fixed">
      <nav>
        <div class="nav-wrapper">
          <ul id="nav-mobile" class="right">
            <li><a href="#" id="installButton" class="hide"><i class="material-icons">get_app</i></a></li>
          </ul>
        </div>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <main>
    <div class="container main-container">
      <div class="row">
        <div class="col s12" id="cameraListContainer">
          <ul class="collection" id="cameraList">
            <!-- Kameraliste wird dynamisch befüllt -->
          </ul>

          <div class="preloader-container hide" id="loadingIndicator">
            <div class="preloader-wrapper small active">
              <div class="spinner-layer spinner-green-only">
                <div class="circle-clipper left"><div class="circle"></div></div>
                <div class="gap-patch"><div class="circle"></div></div>
                <div class="circle-clipper right"><div class="circle"></div></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Floating Action Button -->
    <div class="fixed-action-btn add-button">
      <a class="btn-floating btn-large waves-effect waves-light" id="addCameraButton">
        <i class="material-icons">add</i>
      </a>
    </div>
  </main>

  <!-- Bottom Navigation -->
  <div class="bottom-nav">
    <a href="#" class="bottom-nav-item active" id="navCameras">
      <i class="material-icons">photo_camera</i>
      <span class="bottom-nav-label">Kameras</span>
    </a>
    <a href="#" class="bottom-nav-item" id="navSettings">
      <i class="material-icons">settings</i>
      <span class="bottom-nav-label">Einstellungen</span>
    </a>
  </div>

  <!-- Kamera hinzufügen/bearbeiten Modal -->
  <div id="cameraModal" class="modal modal-fixed-footer">
    <div class="modal-content">
      <h4 id="modalTitle">Kamera hinzufügen</h4>
      <div class="row">
        <div class="input-field col s12">
          <input id="cameraName" type="text" class="validate">
          <label for="cameraName">Kameraname</label>
        </div>
        <div class="input-field col s12">
          <input id="cameraPhone" type="tel" class="validate">
          <label for="cameraPhone">Telefonnummer</label>
        </div>
        <div class="input-field col s12">
          <select id="cameraType">
            <option value="Standard" selected>Standard</option>
            <option value="Pro">Pro</option>
            <option value="Max">Max</option>
          </select>
          <label>Kameratyp</label>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-close waves-effect waves-light btn-flat">Abbrechen</a>
      <a href="#!" id="saveCameraButton" class="waves-effect waves-light btn">Speichern</a>
    </div>
  </div>

  <!-- Kamera-Einstellungen Modal -->
  <div id="settingsModal" class="modal modal-fixed-footer">
    <div class="modal-content">
      <h4>Kamera-Einstellungen</h4>
      <h5 id="settingsCameraName" class="center-align"></h5>
      <div class="tabs-container">
        <ul class="tabs">
          <li class="tab col s4"><a href="#generalSettings" class="active">Allgemein</a></li>
          <li class="tab col s4"><a href="#cameraSettings">Kamera</a></li>
          <li class="tab col s4"><a href="#timerSettings">Zeitplan</a></li>
        </ul>
      </div>
      <div id="generalSettings" class="settings-panel"> <!-- Inhalte ähnlich vorher -->
        <!-- ... -->
      </div>
      <div id="cameraSettings" class="settings-panel"> <!-- Inhalte ähnlich vorher -->
        <!-- ... -->
      </div>
      <div id="timerSettings" class="settings-panel"> <!-- Inhalte ähnlich vorher -->
        <!-- ... -->
      </div>
      <div class="sms-preview">
        <div class="sms-preview-title">SMS Vorschau:</div>
        <div id="smsPreviewText"></div>
      </div>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-close waves-effect waves-light btn-flat">Abbrechen</a>
      <a href="#!" id="sendSettingsButton" class="waves-effect waves-light btn">SMS senden</a>
    </div>
  </div>

  <!-- Modals, Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script src="config.js"></script>
  <script src="db-manager.js"></script>
  <script src="sms-manager.js"></script>
  <script src="offline-sync-manager.js"></script>
  <script src="sms-commands.js"></script>
  <script src="app.js"></script>
  <script src="ui-extensions.js"></script>
  <script src="camera-settings.js"></script>
  <script src="sync-manager.js"></script>
</body>
</html>
